---
sidebar_position: 8
---

# Charts

![Alt Text](/img/charts_teaser.gif)

## Introduction

SYRF provides .pbf vector tiles for most of the world for use in web and mobile apps. 


**There is currently no need to authenticate in any way to use these tiles. This is subject to change.**

This is an area of ongoing development, but check back soon.
<!-- 

Vector tiles (not to be confused with vector charts) are superior to raster tiles in numerous ways:

* Vector tiles allow users to choose which layers they want to see. The information isn't "baked" into an image ahead of time.
* Vector tiles can be smaller and more performant than raster tiles, since empty spaces don't require pixel values.
* Developers can customize the look and feel of vector tiles.
* Vector tiles are easily combined and re-sliced, and re-generated.
* Vector tiles allow for better user interaction of maps, such as tooltips specific to each feature.
* Vector tiles are supported by every popular mapping library in web and mobile.
* Text in vector tiles is easier to read and not subject to pixelation. It can also be customized.
* Because there's nothing inherently visual about the vector tile format, it can be used as a generic spatial index for retrieving nearby data in any context.
* Vector tiles allow you to use any mapping framework you want, and to experiment and swap easily.

There are some challenges with vector tiles, however, including:

* Understanding what layers are contained in the tile, because they are not human readable.
* Vector tiles can be much larger than raster tiles for dense tiles (think dense point clouds), because each data object has to be described and that may take more data than the number of pixels it would take to render.
* Because you "get to" style each layer independently, you "have to" write code for every layer or it won't show up, so it's a case of "with more power comes more responsibility".
* Rendering large amounts of vector data is costly and can bog down the system. On desktops this can mean using a GPU accelerated framework, but this can cause crashes on mobile browsers.
* It isn't always clear which library plugins support vector vs raster data.


:::info
We host some examples [here.](http://chart-tiles.s3-website-us-east-1.amazonaws.com)


In Chrome you can inspect source and see how we did things.
:::


## Attribution
It is critical that you attribute SYRF in the display of this data.

## Legal
It is critical that you tell your users not to use this for navigation. This is more than a cover our/your ass move. These charts are generated by machines. We have no idea if the data is accurate.
Additionally, even if the charts were 100% accurate for everywhere in the world, we/you cannot predict rendering bugs, collision artifcats, systems outages, or other technical things that would lead to
wrong or missing data. People have been and could be hurt if they interpret these charts as a source of truth. Please, please emphasize this to your user. 

## Vector vs raster
There are vector tiles and raster tiles. There are also vector charts (ENCs) and raster charts (RNCs).
Ultimately these terms mean the same thing in terms of the strategy used to encode information, but it's important to understand that in the documentation, we're never talking about the source of the information contained in the tiles, but rather the tiles themselves.
It's possible to make vector tiles from RNCs and raster tiles from ENCs. To us, vector means MVT (.pbf), not ENC. 

## Tile servers
SYRF's MVT (.pbf) vector tile service is located here:

`http://chart-tiles.s3-website-us-east-1.amazonaws.com/data/tiles/pbftiles/${map_layer_name}/${z}/${x}/${y}.pbf`

## Inspecting tiles
Maps have layers, and protobuf tiles also have layers. Protobuf tile layers are used to style your map.
You can inspect the tile layer contents
using a Node script [described here.](https://gis.stackexchange.com/questions/287610/how-to-find-layer-names-within-vector-tiles-without-tilejson-or-the-mbtiles-fi)

In general, our .pbf tiles will have a single tile layer name of:
`maplayername_minZoom_maxZoom` where `minZoom_maxZoom` is always one of:

* `0_4`
* `5_6`
* `7_8`
* `9_10`
* `11_12`
* `13_16`

Map layer names are described below.
Separating our protobuf layers by the zoom ranges allows you to use different styles for different levels of zoom.
A helpful guide for how tile zooms compare to map scales is [here.](https://github.com/mapbox/tippecanoe#zoom-levels)

If this standard ever changes, you can use the above mentioned Node script to inspect the tile layers.


## CPU vs GPU
Many mapping frameworks use the CPU to render imges to HTML canvases. Recently, there have been libraries that utilize the GPU for the rendering.
In general, these GPU frameworks are the correct choice for rendering large amounts of point data (for instance soundings) but the problem is that most mobile browsers (all modern mobile 
browsers support WebGL 2.0), even though they support the standard, allocate very little GPU memory. Consequently, it's easy to crash mobile browser tabs with only a few GPU layers.
 

**If you need to support mobile browsers, our recommendation is to use a CPU rendering framework for your base map and sparse point layers (marks/lights/etc), and a GPU framework only for 1-2 data-heavy layers, such as soundings.**

**If you don't need mobile browser support, GPU framework all the layers.**

## Offline Mode

There is no technical reason not to serve these tiles over a LAN instead of the internet. If you can run a simple file server you can use these in the middle of the ocean.

## Client frameworks
There are a variety of mapping libraries that support MVT/protobuf tiles.

:::caution
Sounding data is extremely expensive to render because there is a lot of it, and it is text. 
If you want to provide the option to display sounding depths, please consider using a WebGL/WebGPU accelerated mapping framework such as Tangram or Deck.GL.
:::

Nearly all modern map rendering frameworks will support MVT tiles. Sometimes you'll find the documentation about "MVT" (Mapbox Vector Tiles), and sometimes it will reference "vector" tiles, or "pbf/protobuf" tiles.

### Web

#### CPU

* Leaflet 
* Open Layers
* D3 Vector Tiles
* ArcGIS

#### GPU

* DeckGL
* Tangram
* Mapbox GL
* MapLibre GL
* Google Maps GL Layer

### Mobile (Native)

**Android:**

* Mapbox
* MapLibre
* OpenScienceMap VTM

**iOS:**

* Mapbox
* MapLibre

## Hints:

* You may need to use the `lndare` layer (land area) if you use the depth area layer because there are some charts who's depth areas will cover islands in your basemap. Consider in general
how the layer ordering/z-index is impacted by layer choices.
* You may want to mix and match frameworks, for instance by having one framework for the base map and another for certain chart layers.
* You should always test with mobile browsers because of the differences in how they handle rendering.
* Text is a pain. I recommend avoiding it entirely for everything except sounding depths.
* Default to no/few layers and let your users gradually enable layers so that your map performs well at load time.
* You can use vector and raster tiles together in the same map. Raster layers support transparency. For instance you could use Mapbox to deliver just place lables in a raster layer on top of the vector chart layers.

### Leaflet specific hints:

* You'll need to use the [VectorGrid plugin.](https://leaflet.github.io/Leaflet.VectorGrid/vectorgrid-api-docs.html#styling-vectorgrids)
* Drawing the text of the depth soundings requires a special approach described [here.](https://gis.stackexchange.com/questions/407382/render-vector-tiles-with-text-label-in-leaflet)
* You may want to add a z-index for each layer so that some layers always appear on top of others. [Described here.](https://gis.stackexchange.com/questions/396153/changing-layer-order-of-vector-tile-layer)


## Coverage

Our tiles cover Europe, the United States, Canada, Australia and New Zealand.

## Known issues

* Depths on New Zealand soundings are missing.
* The scale for Australian charts needs to be adjusted for the zoom ranges.
* It would be nice to have one tileset with a handful of the most important layers baked into the tile.

## Map layers

Our data is not broken up and arranged into charts. Instead, for each data type, we provide a single global layer appropriate for that zoom range.
We bucket the data by scale into 6 zoom ranges. This allows us to display the appropriate scale data at the appropriate zoom level.

This is a list of the map layers supported. 
For unknown layers, or to see the properties of each feature in that layer, please consult the [s57 standard.](http://www.s-57.com/)

### Important layers

* `lndare` : Land Area (Useful because depth areas will cover islands in your base map.)
* `depare` : Depth Areas
* `depcnt` : Depth Contours
* `lights` : Lights
* `obstrn` : Obstructions
* `soundg` : Soundings
* `wrecks` : Wrecks

### All layers

* [`achare`](http://www.s-57.com/Object.asp?nameAcr=ACHARE)
* [`achbrt`](http://www.s-57.com/Object.asp?nameAcr=ACHBRT)
* [`admare`](http://www.s-57.com/Object.asp?nameAcr=ADMARE)
* [`airare`](http://www.s-57.com/Object.asp?nameAcr=AIRARE)
* [`bcncar`](http://www.s-57.com/Object.asp?nameAcr=BCNCAR)
* [`bcnisd`](http://www.s-57.com/Object.asp?nameAcr=BCNISD)
* [`bcnlat`](http://www.s-57.com/Object.asp?nameAcr=BCNLAT)
* [`bcnsaw`](http://www.s-57.com/Object.asp?nameAcr=BCNSAW)
* [`bcnspp`](http://www.s-57.com/Object.asp?nameAcr=BCNSPP)
* [`berths`](http://www.s-57.com/Object.asp?nameAcr=BERTHS)
* [`boycar`](http://www.s-57.com/Object.asp?nameAcr=BOYCAR)
* [`boyinb`](http://www.s-57.com/Object.asp?nameAcr=BOYINB)
* [`boyisd`](http://www.s-57.com/Object.asp?nameAcr=BOYISD)
* [`boylat`](http://www.s-57.com/Object.asp?nameAcr=BOYLAT)
* [`boysaw`](http://www.s-57.com/Object.asp?nameAcr=BOYSAW)
* [`boyspp`](http://www.s-57.com/Object.asp?nameAcr=BOYSPP)
* [`bridge`](http://www.s-57.com/Object.asp?nameAcr=BRIDGE)
* [`buaare`](http://www.s-57.com/Object.asp?nameAcr=BUAARE)
* [`buisgl`](http://www.s-57.com/Object.asp?nameAcr=BUISGL)
* [`c_aggr`](http://www.s-57.com/Object.asp?nameAcr=C_AGGR)
* [`c_asso`](http://www.s-57.com/Object.asp?nameAcr=C_ASSO)
* [`canals`](http://www.s-57.com/Object.asp?nameAcr=CANALS)
* [`causwy`](http://www.s-57.com/Object.asp?nameAcr=CAUSWY)
* [`cblare`](http://www.s-57.com/Object.asp?nameAcr=CBLARE)
* [`cblohd`](http://www.s-57.com/Object.asp?nameAcr=CBLOHD)
* [`cblsub`](http://www.s-57.com/Object.asp?nameAcr=CBLSUB)
* [`cgusta`](http://www.s-57.com/Object.asp?nameAcr=CGUSTA)
* [`chkpnt`](http://www.s-57.com/Object.asp?nameAcr=CHKPNT)
* [`coalne`](http://www.s-57.com/Object.asp?nameAcr=COALNE)
* [`convyr`](http://www.s-57.com/Object.asp?nameAcr=CONVYR)
* [`conzne`](http://www.s-57.com/Object.asp?nameAcr=CONZNE)
* [`cosare`](http://www.s-57.com/Object.asp?nameAcr=COSARE)
* [`cranes`](http://www.s-57.com/Object.asp?nameAcr=CRANES)
* [`ctnare`](http://www.s-57.com/Object.asp?nameAcr=CTNARE)
* [`ctrpnt`](http://www.s-57.com/Object.asp?nameAcr=CTRPNT)
* [`ctsare`](http://www.s-57.com/Object.asp?nameAcr=CTSARE)
* [`curent`](http://www.s-57.com/Object.asp?nameAcr=CURENT)
* [`damcon`](http://www.s-57.com/Object.asp?nameAcr=DAMCON)
* [`daymar`](http://www.s-57.com/Object.asp?nameAcr=DAYMAR)
* [`depare`](http://www.s-57.com/Object.asp?nameAcr=DEPARE)
* [`depcnt`](http://www.s-57.com/Object.asp?nameAcr=DEPCNT)
* [`dismar`](http://www.s-57.com/Object.asp?nameAcr=DISMAR)
* [`dmpgrd`](http://www.s-57.com/Object.asp?nameAcr=DMPGRD)
* [`docare`](http://www.s-57.com/Object.asp?nameAcr=DOCARE)
* [`drgare`](http://www.s-57.com/Object.asp?nameAcr=DRGARE)
* [`drydoc`](http://www.s-57.com/Object.asp?nameAcr=DRYDOC)
* [`dsid`](http://www.s-57.com/Object.asp?nameAcr=DSID)
* [`dwrtcl`](http://www.s-57.com/Object.asp?nameAcr=DWRTCL)
* [`dwrtpt`](http://www.s-57.com/Object.asp?nameAcr=DWRTPT)
* [`dykcon`](http://www.s-57.com/Object.asp?nameAcr=DYKCON)
* [`exezne`](http://www.s-57.com/Object.asp?nameAcr=EXEZNE)
* [`fairwy`](http://www.s-57.com/Object.asp?nameAcr=FAIRWY)
* [`feryrt`](http://www.s-57.com/Object.asp?nameAcr=FERYRT)
* [`flodoc`](http://www.s-57.com/Object.asp?nameAcr=FLODOC)
* [`fnclne`](http://www.s-57.com/Object.asp?nameAcr=FNCLNE)
* [`fogsig`](http://www.s-57.com/Object.asp?nameAcr=FOGSIG)
* [`forstc`](http://www.s-57.com/Object.asp?nameAcr=FORSTC)
* [`frpare`](http://www.s-57.com/Object.asp?nameAcr=FRPARE)
* [`fshfac`](http://www.s-57.com/Object.asp?nameAcr=FSHFAC)
* [`fshgrd`](http://www.s-57.com/Object.asp?nameAcr=FSHGRD)
* [`fshzne`](http://www.s-57.com/Object.asp?nameAcr=FSHZNE)
* [`gatcon`](http://www.s-57.com/Object.asp?nameAcr=GATCON)
* [`gridrn`](http://www.s-57.com/Object.asp?nameAcr=GRIDRN)
* [`hrbare`](http://www.s-57.com/Object.asp?nameAcr=HRBARE)
* [`hrbfac`](http://www.s-57.com/Object.asp?nameAcr=HRBFAC)
* [`hulkes`](http://www.s-57.com/Object.asp?nameAcr=HULKES)
* [`iceare`](http://www.s-57.com/Object.asp?nameAcr=ICEARE)
* [`icnare`](http://www.s-57.com/Object.asp?nameAcr=ICNARE)
* [`istzne`](http://www.s-57.com/Object.asp?nameAcr=ISTZNE)
* [`lakare`](http://www.s-57.com/Object.asp?nameAcr=LAKARE)
* [`lights`](http://www.s-57.com/Object.asp?nameAcr=LIGHTS)
* [`litflt`](http://www.s-57.com/Object.asp?nameAcr=LITFLT)
* [`litves`](http://www.s-57.com/Object.asp?nameAcr=LITVES)
* [`lndare`](http://www.s-57.com/Object.asp?nameAcr=LNDARE)
* [`lndelv`](http://www.s-57.com/Object.asp?nameAcr=LNDELV)
* [`lndmrk`](http://www.s-57.com/Object.asp?nameAcr=LNDMRK)
* [`lndrgn`](http://www.s-57.com/Object.asp?nameAcr=LNDRGN)
* [`locmag`](http://www.s-57.com/Object.asp?nameAcr=LOCMAG)
* [`logpon`](http://www.s-57.com/Object.asp?nameAcr=LOGPON)
* [`lokbsn`](http://www.s-57.com/Object.asp?nameAcr=LOKBSN)
* [`m_covr`](http://www.s-57.com/Object.asp?nameAcr=M_COVR)
* [`m_cscl`](http://www.s-57.com/Object.asp?nameAcr=M_CSCL)
* [`m_hopa`](http://www.s-57.com/Object.asp?nameAcr=M_HOPA)
* [`m_npub`](http://www.s-57.com/Object.asp?nameAcr=M_NPUB)
* [`m_nsys`](http://www.s-57.com/Object.asp?nameAcr=M_NSYS)
* [`m_qual`](http://www.s-57.com/Object.asp?nameAcr=M_QUAL)
* [`m_sdat`](http://www.s-57.com/Object.asp?nameAcr=M_SDAT)
* [`m_srel`](http://www.s-57.com/Object.asp?nameAcr=M_SREL)
* [`m_vdat`](http://www.s-57.com/Object.asp?nameAcr=M_VDAT)
* [`magvar`](http://www.s-57.com/Object.asp?nameAcr=MAGVAR)
* [`marcul`](http://www.s-57.com/Object.asp?nameAcr=MARCUL)
* [`mipare`](http://www.s-57.com/Object.asp?nameAcr=MIPARE)
* [`morfac`](http://www.s-57.com/Object.asp?nameAcr=MORFAC)
* [`navlne`](http://www.s-57.com/Object.asp?nameAcr=NAVLNE)
* [`newobj`](http://www.s-57.com/Object.asp?nameAcr=NEWOBJ)
* [`obstrn`](http://www.s-57.com/Object.asp?nameAcr=OBSTRN)
* [`ofsplf`](http://www.s-57.com/Object.asp?nameAcr=OFSPLF)
* [`oilbar`](http://www.s-57.com/Object.asp?nameAcr=OILBAR)
* [`ospare`](http://www.s-57.com/Object.asp?nameAcr=OSPARE)
* [`pilbop`](http://www.s-57.com/Object.asp?nameAcr=PILBOP)
* [`pilpnt`](http://www.s-57.com/Object.asp?nameAcr=PILPNT)
* [`pipare`](http://www.s-57.com/Object.asp?nameAcr=PIPARE)
* [`pipohd`](http://www.s-57.com/Object.asp?nameAcr=PIPOHD)
* [`pipsol`](http://www.s-57.com/Object.asp?nameAcr=PIPSOL)
* [`ponton`](http://www.s-57.com/Object.asp?nameAcr=PONTON)
* [`prcare`](http://www.s-57.com/Object.asp?nameAcr=PRCARE)
* [`prdare`](http://www.s-57.com/Object.asp?nameAcr=PRDARE)
* [`pylons`](http://www.s-57.com/Object.asp?nameAcr=PYLONS)
* [`radlne`](http://www.s-57.com/Object.asp?nameAcr=RADLNE)
* [`radrfl`](http://www.s-57.com/Object.asp?nameAcr=RADRFL)
* [`radrng`](http://www.s-57.com/Object.asp?nameAcr=RADRNG)
* [`radsta`](http://www.s-57.com/Object.asp?nameAcr=RADSTA)
* [`railwy`](http://www.s-57.com/Object.asp?nameAcr=RAILWY)
* [`rapids`](http://www.s-57.com/Object.asp?nameAcr=RAPIDS)
* [`rcrtcl`](http://www.s-57.com/Object.asp?nameAcr=RCRTCL)
* [`rctlpt`](http://www.s-57.com/Object.asp?nameAcr=RCTLPT)
* [`rdocal`](http://www.s-57.com/Object.asp?nameAcr=RDOCAL)
* [`rdosta`](http://www.s-57.com/Object.asp?nameAcr=RDOSTA)
* [`rectrc`](http://www.s-57.com/Object.asp?nameAcr=RECTRC)
* [`resare`](http://www.s-57.com/Object.asp?nameAcr=RESARE)
* [`retrfl`](http://www.s-57.com/Object.asp?nameAcr=RETRFL)
* [`rivers`](http://www.s-57.com/Object.asp?nameAcr=RIVERS)
* [`roadwy`](http://www.s-57.com/Object.asp?nameAcr=ROADWY)
* [`rscsta`](http://www.s-57.com/Object.asp?nameAcr=RSCSTA)
* [`rtpbcn`](http://www.s-57.com/Object.asp?nameAcr=RTPBCN)
* [`runway`](http://www.s-57.com/Object.asp?nameAcr=RUNWAY)
* [`sbdare`](http://www.s-57.com/Object.asp?nameAcr=SBDARE)
* [`seaare`](http://www.s-57.com/Object.asp?nameAcr=SEAARE)
* [`siltnk`](http://www.s-57.com/Object.asp?nameAcr=SILTNK)
* [`sistat`](http://www.s-57.com/Object.asp?nameAcr=SISTAT)
* [`sistaw`](http://www.s-57.com/Object.asp?nameAcr=SISTAW)
* [`slcons`](http://www.s-57.com/Object.asp?nameAcr=SLCONS)
* [`slogrd`](http://www.s-57.com/Object.asp?nameAcr=SLOGRD)
* [`slotop`](http://www.s-57.com/Object.asp?nameAcr=SLOTOP)
* [`smcfac`](http://www.s-57.com/Object.asp?nameAcr=SMCFAC)
* [`sndwav`](http://www.s-57.com/Object.asp?nameAcr=SNDWAV)
* [`soundg`](http://www.s-57.com/Object.asp?nameAcr=SOUNDG)
* [`splare`](http://www.s-57.com/Object.asp?nameAcr=SPLARE)
* [`spring`](http://www.s-57.com/Object.asp?nameAcr=SPRING)
* [`stslne`](http://www.s-57.com/Object.asp?nameAcr=STSLNE)
* [`swpare`](http://www.s-57.com/Object.asp?nameAcr=SWPARE)
* [`tesare`](http://www.s-57.com/Object.asp?nameAcr=TESARE)
* [`tidewy`](http://www.s-57.com/Object.asp?nameAcr=TIDEWY)
* [`topmar`](http://www.s-57.com/Object.asp?nameAcr=TOPMAR)
* [`ts_feb`](http://www.s-57.com/Object.asp?nameAcr=TS_FEB)
* [`ts_pad`](http://www.s-57.com/Object.asp?nameAcr=TS_PAD)
* [`ts_tis`](http://www.s-57.com/Object.asp?nameAcr=TS_TIS)
* [`tselne`](http://www.s-57.com/Object.asp?nameAcr=TSELNE)
* [`tsezne`](http://www.s-57.com/Object.asp?nameAcr=TSEZNE)
* [`tssbnd`](http://www.s-57.com/Object.asp?nameAcr=TSSBND)
* [`tsscrs`](http://www.s-57.com/Object.asp?nameAcr=TSSCRS)
* [`tsslpt`](http://www.s-57.com/Object.asp?nameAcr=TSSLPT)
* [`tssron`](http://www.s-57.com/Object.asp?nameAcr=TSSRON)
* [`tunnel`](http://www.s-57.com/Object.asp?nameAcr=TUNNEL)
* [`twrtpt`](http://www.s-57.com/Object.asp?nameAcr=TWRTPT)
* [`unsare`](http://www.s-57.com/Object.asp?nameAcr=UNSARE)
* [`uwtroc`](http://www.s-57.com/Object.asp?nameAcr=UWTROC)
* [`vegatn`](http://www.s-57.com/Object.asp?nameAcr=VEGATN)
* [`watfal`](http://www.s-57.com/Object.asp?nameAcr=WATFAL)
* [`wattur`](http://www.s-57.com/Object.asp?nameAcr=WATTUR)
* [`wedklp`](http://www.s-57.com/Object.asp?nameAcr=WEDKLP)
* [`wrecks`](http://www.s-57.com/Object.asp?nameAcr=WRECKS) -->
